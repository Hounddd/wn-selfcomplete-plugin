/*!
 * hounddd.selfcomplete - 1.0.0 - 20230609-200414
 * Hounddd.SelfComplete Plugin for WinterCMS, provide new form widget for backend
 *
 * Damien MATHIEU - HOUNDDD (https://www.hounddd.fr/)
 *
 * filebase: selfcomplete.js - hash: e0ed84c54d565e00
 */!function(){var e,t={508:function(){function _slicedToArray(e,t){return function _arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function _iterableToArrayLimit(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a,o,l=[],c=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(s)throw i}}return l}}(e,t)||function _unsupportedIterableToArray(e,t){if(!e)return;if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray(e,t)}(e,t)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}window.selfcomplete=function(e){var t;function createList(e){var r,n,i,a=e.value;t=-1,(r=document.createElement("DIV")).setAttribute("id",e.id+"selfcomplete-list"),r.setAttribute("class","selfcomplete-items"),e.dataset.maxitems&&r.setAttribute("style","--selfcomplete-max-items: "+e.dataset.maxitems),e.parentNode.appendChild(r);var o=Object.entries(JSON.parse(e.dataset.availableValues)).filter((function(e){var t=_slicedToArray(e,2);return t[0],t[1].toUpperCase().includes(a.toUpperCase())}));for(i=0;i<o.length;i++)n=document.createElement("DIV"),""!=a&&o[i][1].toUpperCase().includes(a.toUpperCase())?n.innerHTML=o[i][1].replace(new RegExp(a,"gi"),(function(e){return"<strong>"+e+"</strong>"})):n.innerHTML=o[i][1],n.innerHTML+="<input type='hidden' value='"+o[i][0]+"'>",n.addEventListener("click",(function(t){e.value=this.getElementsByTagName("input")[0].value,closeAllLists()})),r.appendChild(n);r.scrollTo(0,0)}function addActiveClass(e,r){if(!e)return!1;var n;!function removeActiveClass(e){for(var t=0;t<e.length;t++)e[t].classList.remove("selfcomplete-active")}(e),t>=e.length&&(t=0),t<0&&(t=e.length-1),e[t].classList.add("selfcomplete-active");var i=e[t].offsetTop,a=r.scrollTop,o=Math.abs(r.clientHeight+r.scrollTop);0==i?n=0:a<i&&i>=o?n=i:i<a&&(n=a-r.clientHeight),r.scrollTo({top:n,left:0,behavior:"smooth"})}function closeAllLists(t){for(var r=document.getElementsByClassName("selfcomplete-items"),n=0;n<r.length;n++)t!=r[n]&&t!=e&&r[n].parentNode.removeChild(r[n])}e.addEventListener("input",(function(e){var t=this.value;if(closeAllLists(),!t)return!1;createList(this)})),e.addEventListener("keydown",(function(e){var r=document.getElementById(this.id+"selfcomplete-list");r?(listItem=r.getElementsByTagName("div"),40==e.keyCode?(t++,addActiveClass(listItem,r)):38==e.keyCode?(t--,addActiveClass(listItem,r)):13==e.keyCode?(e.preventDefault(),t>-1&&listItem&&listItem[t].click()):27==e.keyCode&&closeAllLists()):40==e.keyCode&&""==this.value&&createList(this)})),document.addEventListener("click",(function(e){closeAllLists(e.target)}))},document.querySelectorAll('[data-control="selfcomplete"]').forEach((function(e){window.selfcomplete(e)}))},469:function(){}},r={};function __webpack_require__(e){var n=r[e];if(void 0!==n)return n.exports;var i=r[e]={exports:{}};return t[e](i,i.exports,__webpack_require__),i.exports}__webpack_require__.m=t,e=[],__webpack_require__.O=function(t,r,n,i){if(!r){var a=1/0;for(s=0;s<e.length;s++){r=e[s][0],n=e[s][1],i=e[s][2];for(var o=!0,l=0;l<r.length;l++)(!1&i||a>=i)&&Object.keys(__webpack_require__.O).every((function(e){return __webpack_require__.O[e](r[l])}))?r.splice(l--,1):(o=!1,i<a&&(a=i));if(o){e.splice(s--,1);var c=n();void 0!==c&&(t=c)}}return t}i=i||0;for(var s=e.length;s>0&&e[s-1][2]>i;s--)e[s]=e[s-1];e[s]=[r,n,i]},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={864:0,228:0};__webpack_require__.O.j=function(t){return 0===e[t]};var webpackJsonpCallback=function(t,r){var n,i,a=r[0],o=r[1],l=r[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(n in o)__webpack_require__.o(o,n)&&(__webpack_require__.m[n]=o[n]);if(l)var s=l(__webpack_require__)}for(t&&t(r);c<a.length;c++)i=a[c],__webpack_require__.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return __webpack_require__.O(s)},t=self.webpackChunkhounddd_selfcomplete=self.webpackChunkhounddd_selfcomplete||[];t.forEach(webpackJsonpCallback.bind(null,0)),t.push=webpackJsonpCallback.bind(null,t.push.bind(t))}(),__webpack_require__.O(void 0,[228],(function(){return __webpack_require__(508)}));var n=__webpack_require__.O(void 0,[228],(function(){return __webpack_require__(469)}));n=__webpack_require__.O(n)}();